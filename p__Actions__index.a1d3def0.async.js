(self.webpackChunk=self.webpackChunk||[]).push([[7986],{23508:function(v,r,t){"use strict";var i,u=t(64836);i={value:!0},r.Z=void 0;var m=u(t(64938)),h=t(85893),C=(0,m.default)((0,h.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");r.Z=C},19602:function(v,r,t){"use strict";var i,u=t(64836);i={value:!0},r.Z=void 0;var m=u(t(64938)),h=t(85893),C=(0,m.default)((0,h.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");r.Z=C},64938:function(v,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=t(58372)},87357:function(v,r,t){"use strict";t.d(r,{Z:function(){return o}});var i=t(87462),u=t(63366),m=t(67294),h=t(86010),C=t(49731),p=t(86523),s=t(39707),P=t(96682),$=t(85893);const x=["className","component"];function _(N={}){const{themeId:M,defaultTheme:L,defaultClassName:I="MuiBox-root",generateClassName:j}=N,B=(0,C.ZP)("div",{shouldForwardProp:E=>E!=="theme"&&E!=="sx"&&E!=="as"})(p.Z);return m.forwardRef(function(d,D){const b=(0,P.Z)(L),R=(0,s.Z)(d),{className:f,component:Z="div"}=R,O=(0,u.Z)(R,x);return(0,$.jsx)(B,(0,i.Z)({as:Z,ref:D,className:(0,h.Z)(f,j?j(I):I),theme:M&&b[M]||b},O))})}var U=t(37078),W=t(43619),S=t(10606);const V=(0,W.Z)();var o=_({themeId:S.Z,defaultTheme:V,defaultClassName:"MuiBox-root",generateClassName:U.Z.generate})},47167:function(v,r,t){"use strict";var i=t(67294);const u=i.createContext(void 0);r.Z=u},74423:function(v,r,t){"use strict";t.d(r,{Z:function(){return m}});var i=t(67294),u=t(47167);function m(){return i.useContext(u.Z)}},81458:function(v,r,t){"use strict";t.d(r,{Z:function(){return y}});var i=t(63366),u=t(87462),m=t(67294),h=t(86010),C=t(94780),p=t(70917),s=t(41796),P=t(98216),$=t(2734),x=t(90948),_=t(71657),U=t(1588),W=t(34867);function S(e){return(0,W.Z)("MuiLinearProgress",e)}const V=(0,U.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var J=null,o=t(85893);const N=["className","color","value","valueBuffer","variant"];let M=e=>e,L,I,j,B,A,E;const d=4,D=(0,p.F4)(L||(L=M`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),b=(0,p.F4)(I||(I=M`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),R=(0,p.F4)(j||(j=M`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),f=e=>{const{classes:n,variant:a,color:g}=e,F={root:["root",`color${(0,P.Z)(g)}`,a],dashed:["dashed",`dashedColor${(0,P.Z)(g)}`],bar1:["bar",`barColor${(0,P.Z)(g)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar",a!=="buffer"&&`barColor${(0,P.Z)(g)}`,a==="buffer"&&`color${(0,P.Z)(g)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return(0,C.Z)(F,S,n)},Z=(e,n)=>n==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${n}Bg`]:e.palette.mode==="light"?(0,s.$n)(e.palette[n].main,.62):(0,s._j)(e.palette[n].main,.5),O=(0,x.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,n[`color${(0,P.Z)(a.color)}`],n[a.variant]]}})(({ownerState:e,theme:n})=>(0,u.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Z(n,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),c=(0,x.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.dashed,n[`dashedColor${(0,P.Z)(a.color)}`]]}})(({ownerState:e,theme:n})=>{const a=Z(n,e.color);return(0,u.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,p.iv)(B||(B=M`
    animation: ${0} 3s infinite linear;
  `),R)),K=(0,x.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.bar,n[`barColor${(0,P.Z)(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&n.bar1Indeterminate,a.variant==="determinate"&&n.bar1Determinate,a.variant==="buffer"&&n.bar1Buffer]}})(({ownerState:e,theme:n})=>(0,u.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(n.vars||n).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${d}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${d}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&(0,p.iv)(A||(A=M`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),D)),l=(0,x.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.bar,n[`barColor${(0,P.Z)(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&n.bar2Indeterminate,a.variant==="buffer"&&n.bar2Buffer]}})(({ownerState:e,theme:n})=>(0,u.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(n.vars||n).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:Z(n,e.color),transition:`transform .${d}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&(0,p.iv)(E||(E=M`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),b));var y=m.forwardRef(function(n,a){const g=(0,_.Z)({props:n,name:"MuiLinearProgress"}),{className:F,color:X="primary",value:z,valueBuffer:q,variant:H="indeterminate"}=g,et=(0,i.Z)(g,N),Q=(0,u.Z)({},g,{color:X,variant:H}),Y=f(Q),tt=(0,$.Z)(),k={},w={bar1:{},bar2:{}};if((H==="determinate"||H==="buffer")&&z!==void 0){k["aria-valuenow"]=Math.round(z),k["aria-valuemin"]=0,k["aria-valuemax"]=100;let G=z-100;tt.direction==="rtl"&&(G=-G),w.bar1.transform=`translateX(${G}%)`}if(H==="buffer"&&q!==void 0){let G=(q||0)-100;tt.direction==="rtl"&&(G=-G),w.bar2.transform=`translateX(${G}%)`}return(0,o.jsxs)(O,(0,u.Z)({className:(0,h.Z)(Y.root,F),ownerState:Q,role:"progressbar"},k,{ref:a},et,{children:[H==="buffer"?(0,o.jsx)(c,{className:Y.dashed,ownerState:Q}):null,(0,o.jsx)(K,{className:Y.bar1,ownerState:Q,style:w.bar1}),H==="determinate"?null:(0,o.jsx)(l,{className:Y.bar2,ownerState:Q,style:w.bar2})]}))})},35893:function(v,r,t){"use strict";var i=t(49064);r.Z=i.Z},58372:function(v,r,t){"use strict";t.r(r),t.d(r,{capitalize:function(){return u.Z},createChainedFunction:function(){return m.Z},createSvgIcon:function(){return h.Z},debounce:function(){return C.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return P.Z},ownerDocument:function(){return $.Z},ownerWindow:function(){return x.Z},requirePropFactory:function(){return W},setRef:function(){return V},unstable_ClassNameGenerator:function(){return A},unstable_useEnhancedEffect:function(){return J.Z},unstable_useId:function(){return o.Z},unsupportedProp:function(){return M},useControlled:function(){return L.Z},useEventCallback:function(){return I.Z},useForkRef:function(){return j.Z},useIsFocusVisible:function(){return B.Z}});var i=t(37078),u=t(98216),m=t(35893),h=t(88169),C=t(57144);function p(E,d){return()=>null}var s=p,P=t(71579),$=t(8038),x=t(5340),_=t(87462);function U(E,d){return()=>null}var W=U,S=t(7960),V=S.Z,J=t(58974),o=t(27909);function N(E,d,D,b,R){return null}var M=N,L=t(22627),I=t(2068),j=t(51705),B=t(18791);const A={configure:E=>{i.Z.configure(E)}}},27909:function(v,r,t){"use strict";var i=t(57579);r.Z=i.Z},15991:function(v,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var i=t(9783),u=t.n(i),m=t(74914),h=t(88513),C=t(23508),p=t(19602),s=t(51233),P=t(82280),$=t(38895),x=t(15861),_=t(22797),U=t(90629),W=t(87357),S=t(81458),V=t(45210),J=t(67294),o=t(85893);function N(){var M,L,I,j,B=(0,h.useModel)("api"),A=B.fetchScripts,E=B.fetchUpdateModules,d=B.fetchModules,D=B.fetchRunScript,b=(0,h.useModel)("@@initialState"),R=b.initialState,f={},Z={};(0,V.Z)(function(){f={},Z={}}),(0,J.useEffect)(function(){A.run(),d.run()},[]);var O={};return(M=A.data)===null||M===void 0||(L=M.scripts)===null||L===void 0||L.forEach(function(c){O[c.type]||(O[c.type]=[]),O[c.type].push(c)}),(0,o.jsxs)(s.Z,{spacing:3,m:1,children:[d.data&&(0,o.jsxs)(P.Z,{sx:{borderRadius:2,overflow:"hidden"},children:[(0,o.jsx)($.Z,{id:"modules",expandIcon:(0,o.jsx)(C.Z,{}),"aria-controls":"Modules-content",children:(0,o.jsx)(x.Z,{children:"Modules"})}),(0,o.jsx)(_.Z,{children:(I=d.data)===null||I===void 0||(j=I.available)===null||j===void 0?void 0:j.map(function(c,K){var l,T,y,e;return(0,o.jsxs)(U.Z,{elevation:3,component:"div",sx:{mb:2,p:2,position:"relative"},children:[(0,o.jsx)(x.Z,{variant:"caption",sx:{position:"absolute",right:0,top:0,bottom:0,width:5,opacity:.5,borderRadius:2,background:function(a){var g,F,X,z;return(g=d.data)!==null&&g!==void 0&&g.enabled&&((F=d.data)===null||F===void 0||(X=F.enabled)===null||X===void 0||(z=X.indexOf)===null||z===void 0?void 0:z.call(X,c))>-1?a.palette.success.main:a.palette.error.main}}}),(0,o.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(s.Z,{spacing:1,children:(0,o.jsx)(x.Z,{variant:"body2",children:c})}),(0,o.jsx)(m.k,{defaultChecked:((l=d.data)===null||l===void 0?void 0:l.enabled)&&((T=d.data)===null||T===void 0||(y=T.enabled)===null||y===void 0||(e=y.indexOf)===null||e===void 0?void 0:e.call(y,c))>-1,onChange:function(a,g){E.run(u()({},c,g)).then(function(){return d.run()})}})]})]},"".concat(c,"-").concat(K))})})]},"modules"),Object.keys(O).map(function(c){var K=O[c];return(0,o.jsxs)(P.Z,{sx:{borderRadius:2,overflow:"hidden"},children:[(0,o.jsx)($.Z,{id:c,expandIcon:(0,o.jsx)(C.Z,{}),"aria-controls":"".concat(c,"-content"),children:(0,o.jsx)(x.Z,{children:c})}),(0,o.jsx)(_.Z,{children:K.map(function(l,T){var y;return(0,o.jsxs)(U.Z,{elevation:3,sx:{mb:2,p:2,position:"relative",overflow:"hidden"},component:"div",onClick:function(){if(l.type!=="cron"){l.path.indexOf("http")>-1&&window.open(l.path);return}var n="".concat(l.path);f[n]===void 0&&(f[n]=0),f[n]+=1,Z[n]=setTimeout(function(){Z[n]!==void 0&&clearTimeout(Z[n]),f[n]===2?(f[n]=0,D.run({url:l.path,isRemote:l.path.indexOf("http")>-1})):f[n]===1&&l.path.indexOf("http")>-1&&window.open(l.path),f={}},200)},children:[(0,o.jsx)(x.Z,{variant:"caption",sx:{position:"absolute",right:0,top:0,bottom:0,width:5,opacity:.5,borderRadius:2,background:function(n){return l.enabled?n.palette.success.main:n.palette.error.main}}}),(0,o.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(s.Z,{spacing:1,children:[(0,o.jsx)(x.Z,{variant:"body2",children:l.name}),(0,o.jsxs)(x.Z,{variant:"caption",color:"text.secondary",children:[l.type," ",l.parameters.cronexp]})]}),l.type==="cron"&&(0,o.jsx)(W.Z,{component:"span",onClick:function(){h.history.push("/code",{url:l.path})},children:(0,o.jsx)(p.Z,{})})]}),((y=D.fetches[l.path])===null||y===void 0?void 0:y.loading)&&(0,o.jsx)(S.Z,{sx:{position:"absolute",bottom:0,left:0,width:"100%"}})]},"".concat(l.type,"-").concat(l.name,"-").concat(T))})})]},c)})]})}},3930:function(v,r,t){"use strict";var i=t(67294);function u(m){var h=(0,i.useRef)(m);return h.current=m,h}r.Z=u},45210:function(v,r,t){"use strict";var i=t(67294),u=t(3930),m=t(92770),h=t(31663),C=function(p){h.Z&&((0,m.mf)(p)||console.error("useUnmount expected parameter is a function, got ".concat(typeof p)));var s=(0,u.Z)(p);(0,i.useEffect)(function(){return function(){s.current()}},[])};r.Z=C},92770:function(v,r,t){"use strict";t.d(r,{mf:function(){return u}});var i=function(s){return s!==null&&typeof s=="object"},u=function(s){return typeof s=="function"},m=function(s){return typeof s=="string"},h=function(s){return typeof s=="boolean"},C=function(s){return typeof s=="number"},p=function(s){return typeof s=="undefined"}},31663:function(v,r){"use strict";var t=!1;r.Z=t},64836:function(v){function r(t){return t&&t.__esModule?t:{default:t}}v.exports=r,v.exports.__esModule=!0,v.exports.default=v.exports}}]);
